<ion-content>
  <img [src]="recipe()?.imageUrl" class="recipe-banner" alt="Recipe cover" />

  <h1 class="recipe-title">{{ recipe()?.title }}</h1>

  <div class="ingredients-grid">
    @for(column of ingredientColumns(); track $index) {
    <div class="ingredient-column">
      @for(ingredient of column; track $index){
      <div class="ingredient">
        <span class="ingredient-name">{{ ingredient.name }}</span>
        <span class="ingredient-quantity">{{ ingredient.quantity }}</span>
        <span class="ingredient-quantity">{{ ingredient.unit }}</span>
      </div>
      }
    </div>
    }
  </div>

  <ion-item>
    <ion-label>Servings</ion-label>
    <ion-input
      type="number"
      min="1"
      [(ngModel)]="peopleCount"
      (ionChange)="onPeopleCountChange($event)"
    ></ion-input>
  </ion-item>

  <hr class="section-separator" />

  <div class="steps-list">
    @for(step of recipe()?.steps; track $index) {
    <div class="step">
      <div class="step-index">{{ $index + 1 }}.</div>
      <div class="step-description">{{ step.text }}</div>
      @if (step.imageUrl) {
      <img [src]="step.imageUrl" class="step-image" alt="Step" />
      }
    </div>
    }
  </div>
</ion-content>
